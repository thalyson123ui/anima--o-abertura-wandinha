<!--
File: public/index.html
Abertura inspirada em "Wandinha" (Wednesday) para estudo/portfólio.
Sem uso de logos/áudio oficiais. Substitua textos e assets conforme necessário.
-->
<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Abertura – Wandinha (inspirada)</title>
  <meta name="description" content="Abertura inspirada na estética de Wandinha: gótico, roxo, neblina e morcegos." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Cormorant+Garamond:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg0: #05040a;
      --bg1: #0c0b14;
      --violet: #6b4de6;
      --violet-2: #9b84ff;
      --ink: #cfd1ff;
      --fog: rgba(196,200,255,0.06);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      background: radial-gradient(1200px 1200px at 50% 60%, #121022 0%, var(--bg1) 35%, var(--bg0) 100%);
      color: var(--ink);
      font-family: 'Cormorant Garamond', serif;
      overflow: hidden;
    }

    /* Container principal */
    .stage {
      position: relative;
      height: 100dvh;
      width: 100vw;
      display: grid;
      place-items: center;
      isolation: isolate;
    }

    /* Vignette */
    .vignette::after {
      content: '';
      position: absolute; inset: -10vmin;
      pointer-events: none;
      box-shadow: 0 0 0 8vmin rgba(0,0,0,0.9) inset,
                  0 0 160px 40px rgba(0,0,0,0.6) inset;
      border-radius: 2vmin;
      z-index: 10;
    }

    /* Grão animado (ruído) */
    .grain {
      position: absolute; inset: -50%;
      background-image: url('data:image/svg+xml;utf8,\
        <svg xmlns="http://www.w3.org/2000/svg" width="200" height="200">\
          <filter id="n">\
            <feTurbulence type="fractalNoise" baseFrequency="0.95" numOctaves="2" stitchTiles="stitch"/>\
            <feColorMatrix type="saturate" values="0"/>\
          </filter>\
          <rect width="100%" height="100%" filter="url(%23n)" opacity="0.22"/>\
        </svg>');
      mix-blend-mode: overlay;
      opacity: 0.15;
      animation: drift 12s linear infinite;
      z-index: 9;
    }
    @keyframes drift {
      from { transform: translate3d(0,0,0) scale(1.1); }
      to   { transform: translate3d(-10%, -10%, 0) scale(1.1); }
    }

    /* Neblina */
    .fog { position: absolute; inset: -10vmin; overflow: hidden; z-index: 1; }
    .fog > span {
      position: absolute; inset: -20vh -20vw;
      background: radial-gradient(50vw 40vh at var(--x,20%) var(--y,60%), var(--fog), transparent 60%);
      filter: blur(26px);
      animation: fog-move var(--t,18s) ease-in-out infinite alternate;
      opacity: 0.7;
    }
    .fog > span:nth-child(1) { --x: 20%; --y: 60%; --t: 22s; }
    .fog > span:nth-child(2) { --x: 70%; --y: 40%; --t: 19s; }
    .fog > span:nth-child(3) { --x: 40%; --y: 80%; --t: 24s; }
    @keyframes fog-move {
      from { transform: translate3d(-10%,0,0); }
      to   { transform: translate3d(10%,0,0); }
    }

    /* Teia SVG */
    .web {
      position: absolute; inset: 0; z-index: 0; opacity: 0; transform: scale(1.08);
      transition: opacity 1600ms ease, transform 2.6s ease;
      will-change: opacity, transform;
      filter: drop-shadow(0 0 12px rgba(155,132,255,0.12));
    }
    .web.show { opacity: 0.3; transform: scale(1); }
    .web path { stroke: rgba(139, 122, 255, 0.22); }

    /* Título */
    .title {
      display: grid; gap: 0.6rem; place-items: center;
      text-align: center; z-index: 2;
      opacity: 0; transform: translateY(8px) scale(0.98);
      transition: opacity 900ms ease, transform 900ms ease;
    }
    .title.show { opacity: 1; transform: translateY(0) scale(1); }
    .title h1 {
      font-family: 'Cinzel', serif;
      letter-spacing: 0.14em;
      font-weight: 900;
      font-size: clamp(2.2rem, 7vw, 6rem);
      margin: 0;
      color: var(--ink);
      text-shadow: 0 0 8px rgba(155,132,255,0.22), 0 0 24px rgba(72,48,168,0.35);
      animation: flicker 4.5s linear infinite;
    }
    .title h1 .accent { color: var(--violet-2); }
    .title p { margin: 0; opacity: 0.8; letter-spacing: 0.08em; }

    /* Glitch leve */
    .glitch { position: relative; }
    .glitch::before, .glitch::after {
      content: attr(data-text);
      position: absolute; inset: 0; pointer-events: none; mix-blend-mode: screen;
    }
    .glitch::before { color: #6f5aff; transform: translate(0.02em, -0.02em); opacity: .4; filter: blur(.6px); }
    .glitch::after  { color: #b478ff; transform: translate(-0.02em, 0.02em); opacity: .35; filter: blur(.6px); }

    @keyframes flicker {
      0%, 100% { opacity: 1; }
      10% { opacity: .9; }
      11% { opacity: .6; }
      12% { opacity: 1; }
      58% { opacity: .95; }
      59% { opacity: .5; }
      60% { opacity: 1; }
    }

    /* Morcegos */
    .bats { position: absolute; inset: 0; z-index: 3; pointer-events: none; }
    .bat {
      --s: 1; /* escala */
      position: absolute; top: 50%; left: -10vw;
      width: calc(36px * var(--s)); height: calc(16px * var(--s));
      background: none;
      transform: translate(-50%, -50%);
      animation: fly var(--dur, 9s) linear var(--delay, 0s) forwards;
      opacity: 0.9;
      filter: drop-shadow(0 2px 3px rgba(0,0,0,.6));
    }
    .bat::before, .bat::after { /* asas */
      content: '';
      position: absolute; top: 50%; width: 50%; height: 100%;
      background: radial-gradient(90% 120% at 100% 0%, #0e0b1b 0%, #121022 50%, #0a0814 100%);
      border-radius: 100% 0 100% 0;
      transform-origin: 0% 50%;
      animation: flap 260ms ease-in-out infinite;
    }
    .bat::before { left: 0; transform: rotate(18deg); }
    .bat::after  { right: 0; transform-origin: 100% 50%; transform: scaleX(-1) rotate(18deg); }
    @keyframes flap {
      50% { transform: rotate(-22deg); }
    }
    @keyframes fly {
      from { transform: translate(-20vw, -10vh) scale(var(--s)); }
      to   { transform: translate(120vw, -40vh) scale(var(--s)); }
    }

    /* Silhueta (corvo/mão) */
    .silhouette {
      position: absolute; bottom: 15vh; left: -15vw; z-index: 2;
      width: min(28vw, 360px); aspect-ratio: 16/9;
      background: radial-gradient(120% 120% at 70% 30%, #0d0a15 20%, #07060c 80%);
      clip-path: path('M0,60 C50,20 120,10 190,40 C260,70 320,60 360,40 L360,200 L0,200 Z');
      filter: drop-shadow(0 8px 18px rgba(0,0,0,.6));
      opacity: 0.7;
      transform: translateX(0) scale(1);
      animation: glide 9s ease-in-out 3.6s forwards;
    }
    @keyframes glide {
      0%   { transform: translateX(0) translateY(0) scale(1) rotate(0deg); }
      40%  { transform: translateX(40vw) translateY(-6vh) scale(1.02) rotate(-2deg); }
      100% { transform: translateX(110vw) translateY(-2vh) scale(0.98) rotate(2deg); opacity: 0.4; }
    }

    /* Botão Skip */
    .skip {
      position: absolute; right: 2rem; bottom: 2rem; z-index: 11;
      padding: .6rem 1rem; border-radius: 999px;
      background: rgba(20,18,38,0.6); color: #e9e6ff;
      border: 1px solid rgba(155,132,255,0.25);
      backdrop-filter: blur(6px);
      font-family: 'Cormorant Garamond', serif; letter-spacing: .06em;
      cursor: pointer; transition: transform .2s ease, background .2s ease;
    }
    .skip:hover { background: rgba(40,30,70,0.6); transform: translateY(-1px); }

    /* Estado final (pós-intro) */
    .post {
      position: absolute; inset: 0; display: grid; place-items: center;
      opacity: 0; z-index: 12; transition: opacity .8s ease;
      background: linear-gradient(180deg, rgba(8,6,16,0.2), rgba(8,6,16,0.6));
      backdrop-filter: blur(6px);
    }
    .post.show { opacity: 1; }
    .post h2 { margin: 0; font-family: 'Cinzel', serif; letter-spacing: .12em; }

    /* Acessibilidade */
    @media (prefers-reduced-motion: reduce) {
      .grain, .fog > span, .title h1, .bat, .silhouette { animation: none !important; }
    }

  </style>
</head>
<body>
  <main class="stage vignette" aria-label="Abertura inspirada em Wandinha">
    <div class="grain" aria-hidden="true"></div>
    <div class="fog" aria-hidden="true">
      <span></span><span></span><span></span>
    </div>

    <!-- Teia em SVG -->
    <svg class="web" viewBox="0 0 1200 800" fill="none" aria-hidden="true">
      <g>
        <path d="M600 20 C 900 20, 1180 300, 1180 400 C 1180 500, 900 780, 600 780 C 300 780, 20 500, 20 400 C 20 300, 300 20, 600 20 Z" stroke-width="1.2"/>
        <path d="M600 80 C 860 80, 1120 340, 1120 400 C 1120 460, 860 720, 600 720 C 340 720, 80 460, 80 400 C 80 340, 340 80, 600 80 Z" stroke-width="1"/>
        <path d="M600 140 C 820 140, 1060 360, 1060 400 C 1060 440, 820 660, 600 660 C 380 660, 140 440, 140 400 C 140 360, 380 140, 600 140 Z" stroke-width="0.9"/>
        <path d="M600 200 C 780 200, 1000 360, 1000 400 C 1000 440, 780 600, 600 600 C 420 600, 200 440, 200 400 C 200 360, 420 200, 600 200 Z" stroke-width="0.8"/>
        <!-- Raios -->
        <path d="M600 20 L600 780" stroke-width="0.8"/>
        <path d="M20 400 L1180 400" stroke-width="0.8"/>
        <path d="M140 140 L1060 660" stroke-width="0.6"/>
        <path d="M1060 140 L140 660" stroke-width="0.6"/>
      </g>
    </svg>

    <!-- Título -->
    <section class="title" id="title">
      <h1 class="glitch" id="logo" data-text="WANDINHA"><span class="accent">W</span>ANDINHA</h1>
      <p>uma abertura <em>inspirada</em></p>
    </section>

    <!-- Morcegos + silhueta -->
    <div class="bats" id="bats" aria-hidden="true"></div>
    <div class="silhouette" aria-hidden="true"></div>

    <!-- Skip Intro / Estado final -->
    <button class="skip" id="skip" aria-label="Pular abertura">Pular abertura ↵</button>
    <section class="post" id="post">
      <h2>Bem-vindo(a) ao conteúdo</h2>
    </section>
  </main>

  <script>
    // Sequência de cenas
    const web = document.querySelector('.web');
    const title = document.getElementById('title');
    const logo = document.getElementById('logo');
    const batsLayer = document.getElementById('bats');
    const skipBtn = document.getElementById('skip');
    const post = document.getElementById('post');

    let skipped = false;

    const timeline = () => {
      // 1) Teia aparece
      setTimeout(() => { web.classList.add('show'); }, 900);
      // 2) Título aparece com glitch
      setTimeout(() => { title.classList.add('show'); pulseLogo(); }, 2800);
      // 3) Morcegos começam a voar
      setTimeout(() => { spawnBats(10); }, 4500);
      // 4) Estado de loop sutil
      setTimeout(() => { if (!skipped) subtleLoop(); }, 10000);
    };

    // Pulso de brilho no logo (por quê: enfatiza o ápice da cena)
    function pulseLogo() {
      logo.animate([
        { textShadow: '0 0 8px rgba(155,132,255,0.22), 0 0 24px rgba(72,48,168,0.35)', transform: 'scale(1)' },
        { textShadow: '0 0 18px rgba(155,132,255,0.45), 0 0 46px rgba(72,48,168,0.55)', transform: 'scale(1.02)' },
        { textShadow: '0 0 8px rgba(155,132,255,0.22), 0 0 24px rgba(72,48,168,0.35)', transform: 'scale(1)' }
      ], { duration: 1400, easing: 'ease-in-out' });
    }

    // Morcegos aleatórios
    function spawnBats(count = 8) {
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReduced) return;
      for (let i = 0; i < count; i++) {
        const bat = document.createElement('div');
        bat.className = 'bat';
        const s = (Math.random() * 0.9) + 0.6; // escala 0.6–1.5
        const d = (Math.random() * 6) + 6;     // duração 6–12s
        const delay = Math.random() * 6;       // atraso 0–6s
        const top = Math.random() * 60 + 10;   // faixa 10–70vh
        bat.style.setProperty('--s', s.toFixed(2));
        bat.style.setProperty('--dur', `${d.toFixed(2)}s`);
        bat.style.setProperty('--delay', `${delay.toFixed(2)}s`);
        bat.style.top = `${top}vh`;
        batsLayer.appendChild(bat);
        bat.addEventListener('animationend', () => bat.remove());
      }
      // Respawn contínuo
      const loop = setInterval(() => {
        if (skipped) { clearInterval(loop); return; }
        spawnBats(Math.floor(Math.random() * 3) + 1);
      }, 2400);
    }

    // Loop sutil pós-clímax (por quê: mantém atmosfera sem cansar)
    function subtleLoop() {
      title.animate([
        { transform: 'translateY(0) scale(1)', opacity: 1 },
        { transform: 'translateY(-2px) scale(1.005)', opacity: 0.98 },
        { transform: 'translateY(0) scale(1)', opacity: 1 }
      ], { duration: 5000, iterations: Infinity, easing: 'ease-in-out' });
    }

    // Skip Intro
    function skipIntro() {
      skipped = true;
      document.querySelectorAll('.bat').forEach(b => b.remove());
      title.classList.add('show');
      web.classList.add('show');
      post.classList.add('show');
      // escurece gradualmente o fundo (por quê: transição suave ao conteúdo)
      document.body.animate([
        { filter: 'brightness(1)' },
        { filter: 'brightness(0.85)' }
      ], { duration: 600, fill: 'forwards', easing: 'ease' });
    }

    skipBtn.addEventListener('click', skipIntro);
    window.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') skipIntro();
    });

    // Iniciar
    window.addEventListener('load', timeline);
  </script>
</body>
</html>
